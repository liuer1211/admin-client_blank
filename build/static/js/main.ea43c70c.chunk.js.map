{"version":3,"sources":["assets/images/logo.png","api/ajax.js","api/index.js","utils/memoryUtils.js","utils/storageUtils.js","pages/login/login.jsx","config/menuConfig.js","components/left-nav/index.jsx","utils/dateUtils.js","components/header/index.jsx","pages/home/home.jsx","components/link-button/index.jsx","pages/category/category.jsx","pages/product/product.jsx","pages/role/role.jsx","pages/user/user.jsx","pages/chart/bar.jsx","pages/chart/line.jsx","pages/chart/pie.jsx","pages/admin/admin.jsx","App.js","index.js"],"names":["module","exports","__webpack_require__","p","ajax","url","data","arguments","length","undefined","type","Promise","res","rej","axios","get","params","post","then","resp","catch","err","message","error","reqLogin","username","password","reqCategorys","parentId","reqWeather","city","dayPictureUrl","weather","memoryUtils","user","storageUtils","saveUser","store","set","getUser","removeUser","remove","Item","es_form","Login","handleSubmit","e","preventDefault","_this","props","form","validateFields","_ref","Object","asyncToGenerator","regenerator_default","a","mark","_callee","values","result","wrap","_context","prev","next","create_time","role","menus","__v","_id","sent","status","success","console","log","history","replace","msg","t0","stop","_x","_x2","apply","this","validatePwd","rule","value","callBack","test","react_default","createElement","react_router","to","getFieldDecorator","className","onSubmit","rules","required","whitespace","min","max","pattern","input","prefix","icon","style","color","placeholder","validator","es_button","block","htmlType","Component","WrapLogin","create","menuList","title","key","children","SubMenu","LeftNav","getMenuNodes_map","map","item","menu","react_router_dom","getMenuNodes","path","location","pathname","reduce","pre","find","citem","openKey","push","menuNodes","src","logo","alt","selectedKeys","defaultOpenKeys","mode","theme","withRouter","formateDate","time","date","Date","getFullYear","getMonth","getDate","getHours","getMinutes","getSeconds","Header","state","currentTime","now","getTime","interId","setInterval","setState","getWeather","_ref2","getTitle","forEach","it","outLogin","modal","confirm","onOk","clearInterval","_this$state","onClick","Home","LinkButton","assign","Category","loading","categorys","subCategorys","parentName","_parentId","_categorys","name","_v","getInitColums","columns","dataIndex","width","render","category","getSubCate","extra","card","table","bordered","rowKey","dataSource","pagination","defaultPageSize","showQuickJumper","Product","Role","User","Bar","Line","Pie","Footer","Sider","Content","Admin","layout","height","components_left_nav","components_header","margin","backgroundColor","component","textAlign","App","ReactDOM","App_App","document","getElementById"],"mappings":"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","file":"static/js/main.ea43c70c.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/logo.0ce0069e.png\";","import axios from \"axios\";\r\nimport { message } from \"antd\";\r\n\r\nexport default function ajax(url,data={},type='GET'){\r\n\r\n    return new Promise((res,rej)=>{\r\n        let promise\r\n        if (type === 'GET') {\r\n            promise = axios.get(url, {\r\n                params: data\r\n            })\r\n        } else {\r\n            promise = axios.post(url, data)\r\n        }\r\n        promise.then(resp=>{\r\n            res(resp.data)\r\n        }).catch(err=>{\r\n            // 异常传出，可以在各自的方法上做为伪数据 - 这块方便演示查看\r\n            rej(err)\r\n            message.error(err.message)\r\n        })\r\n        \r\n    })\r\n    \r\n}","import ajax from \"./ajax\";\r\n// import jsonp from 'jsonp'\r\n// import { message } from \"antd\";\r\n\r\n// 每个接口返回都是promise\r\n\r\nconst BASE = ''\r\n\r\n// 登录\r\n// export function reqLogin(username, password){\r\n//     return ajax('/login', {username, password})\r\n// }\r\nexport const reqLogin = (username, password) => ajax(BASE + '/login', {username, password}, 'POST')\r\n\r\n// 添加用户\r\nexport const reqAddUser = (user) => ajax(BASE + '/manage/user/add', user, 'POST')\r\n\r\n// 商品分类 一级、二级\r\nexport const reqCategorys= (parentId) => ajax(BASE + '/manage/category/list', {parentId});\r\n// 添加商品分类\r\nexport const reqAddCategory= (categoryName, parentId) => ajax(BASE + '/manage/category/add', {categoryName, parentId}, 'post');\r\n// 添加商品分类\r\nexport const reqUpdateCategory= ({categoryName, parentId}) => ajax(BASE + '/manage/category/update', {categoryName, parentId}, 'post');\r\n\r\n\r\n\r\n\r\n\r\n\r\n// jsonp 请求的接口请求函数\r\n// 天气信息\r\n\r\nexport const reqWeather = (city) => {\r\n    return {dayPictureUrl: 'http://api.map.baidu.com/images/weather/day/qing.png', weather: '晴'};\r\n    // return new Promise((resolve, reject)=>{\r\n    //     const url = `http://api.map.baidu.com/telematics/v3/weather?location=${city}&output=json&ak=6c0621701e4f8f0327b48bff7d67291e`;\r\n    //     jsonp(url, {}, (err,data)=>{\r\n    //         if(!err && data.status === 'success') {\r\n    //             const {dayPictureUrl, weather} = data.results[0].weather_data[0];\r\n    //             resolve({dayPictureUrl, weather});\r\n    //         } else {\r\n    //             // 异常传出，可以在各自的方法上做为伪数据 - 这块方便演示查看\r\n    //             reject(err);\r\n    //             message.error(err.message);\r\n    //         }\r\n    //     })\r\n    // })\r\n}","\r\nexport default {\r\n    user: {} // 保存当前登录的用户信息\r\n}","/*\r\n    localStorage 缓存方法\r\n*/\r\nimport store from \"store\";\r\n\r\nconst USER_KEY = 'user_key'\r\nexport default {\r\n    // 保存user\r\n    saveUser(user) {\r\n        // localStorage.setItem(USER_KEY, JSON.stringify(user));\r\n        store.set(USER_KEY, user);\r\n    },\r\n    // 获取user\r\n    getUser() {\r\n        // return JSON.parse(localStorage.getItem(USER_KEY) || '{}');\r\n        return store.get(USER_KEY) || {};\r\n    },\r\n    // 移除user\r\n    removeUser() {\r\n        // localStorage.removeItem(USER_KEY);\r\n        store.remove(USER_KEY);\r\n    }\r\n}","import React, { Component } from 'react';\r\nimport { Redirect } from 'react-router';\r\nimport { Form, Icon, Input, Button, message } from 'antd';\r\n\r\nimport {reqLogin} from '../../api'\r\nimport memoryUtils from '../../utils/memoryUtils'\r\nimport storageUtils from '../../utils/storageUtils'\r\n\r\nimport './login.less'\r\n\r\nconst Item = Form.Item // 不能写到import前\r\n\r\nclass Login extends Component {\r\n  // 提交\r\n  handleSubmit = e => {\r\n    e.preventDefault();\r\n    this.props.form.validateFields(async (err, values) => {\r\n      // 校验成功\r\n      if (!err) {\r\n        const {username, password} = values\r\n\r\n        const data = {\r\n          create_time: 1626874402124,\r\n          password: \"21232f297a57a5a743894a0e4a801fc3\",\r\n          role: {menus: []},\r\n          menus: [],\r\n          username: \"admin\",\r\n          __v: 0,\r\n          _id: \"60f822221a00151314d2626a\"\r\n        }\r\n\r\n        try {\r\n          const result = await reqLogin(username, password)\r\n          if (result.status===0) {\r\n            message.success('登陆成功')\r\n\r\n            const user = result.data\r\n            // 存到内存里\r\n            memoryUtils.user = user\r\n            // 存到本地\r\n            storageUtils.saveUser(user)\r\n\r\n            console.log(user)\r\n\r\n            // 不需要回退到登录\r\n            // this.props.history.push('/')\r\n            this.props.history.replace('/')\r\n          } else {\r\n            message.error(result.msg)\r\n          }\r\n        } catch (e) {\r\n          // 获取伪数据\r\n          message.error('接口异常-使用伪数据')\r\n          // 存到内存里\r\n          memoryUtils.user = data\r\n          // 存到本地\r\n          storageUtils.saveUser(data)\r\n          // 跳转\r\n          this.props.history.replace('/')\r\n        }\r\n\r\n      } else {\r\n        console.log('校验失败')\r\n      }\r\n    });\r\n    // // form对象\r\n    // const form = this.props.form\r\n    // // 获取表单数据\r\n    // const values = form.getFieldsValue()\r\n    // const val = form.getFieldValue()\r\n    // console.log(form)\r\n    // console.log(values)\r\n    // console.log(val)\r\n  };\r\n\r\n  // 校验,其他写法\r\n  validatePwd = (rule, value, callBack)=> {\r\n    if (!value) {\r\n      callBack('密码必输')\r\n    } else if (value.length<4) {\r\n      callBack('密码大于4位')\r\n    } else if (value.length>12) {\r\n      callBack('密码小于12位')\r\n    } else if (!(/^[a-zA-Z0-9_]+$/.test(value))) {\r\n      callBack('必须数字英文下划线')\r\n    } else{\r\n      callBack()\r\n    }\r\n  }\r\n\r\n  render() {\r\n    // 如果用户登录，跳转到首页\r\n    const user = memoryUtils.user\r\n    // 当前没有用户\r\n    if (user && user._id) {\r\n      // 自动跳转登录\r\n      return <Redirect to='/'/>\r\n    }\r\n\r\n    // 得到具有强大功能的from对象\r\n    const form = this.props.form\r\n    const {getFieldDecorator} = form\r\n\r\n    return (\r\n      // 主体\r\n      <div className=\"login-main\">\r\n        <div className=\"login-model\">\r\n          <div className=\"login-tit\">用户登录</div>\r\n          <Form onSubmit={this.handleSubmit} className=\"login-form\">\r\n            <Item>\r\n              {\r\n                getFieldDecorator('username', {\r\n                  rules: [\r\n                    { required: true, whitespace: true, message: '用户名必输' },\r\n                    { min: 4, message: '最小4位' },\r\n                    { max: 12, message: '最大12位' },\r\n                    { pattern: /^[a-zA-Z0-9_]+$/, message: '必须数字英文下划线' },\r\n                  ],\r\n                })(\r\n                  <Input\r\n                    prefix={<Icon type=\"user\" style={{ color: 'rgba(0,0,0,.25)' }} />}\r\n                    placeholder=\"Username\"\r\n                  />\r\n                )\r\n              }\r\n            </Item>\r\n            <Item>\r\n              {\r\n                  getFieldDecorator('password', {\r\n                    rules: [\r\n                      { validator: this.validatePwd }\r\n                    ],\r\n                  })(\r\n                    <Input\r\n                      prefix={<Icon type=\"lock\" style={{ color: 'rgba(0,0,0,.25)' }} />}\r\n                      type=\"password\"\r\n                      placeholder=\"Password\"\r\n                    />\r\n                  )\r\n                }\r\n            </Item>\r\n            <Item>\r\n              <Button type=\"primary\" block htmlType=\"submit\" className=\"login-form-button\">\r\n                登录\r\n              </Button>\r\n            </Item>\r\n          </Form>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\n/*\r\n  1. 高阶函数\r\n    1). 一类特定的函数\r\n      a. 接收函数类型的参数\r\n      b. 返回值是函数\r\n    2). 常见\r\n      a. 定时器：setTimeout()/setInterval()\r\n      b. Promise: Promise(()={}) then(value=>{},reason=>{})\r\n      c. 数组遍历相关的方法： forEach()/filter()/map()/reduce()/find()/findIndex()\r\n      d. 函数对象的bind()\r\n      e. Form.create()() / getFieldDecorator()()\r\n    3). 高阶函数更新动态，更加具有扩展性\r\n  2. 高阶组件\r\n    1). 本质就是一个函数\r\n    2). 接收一个组件（被包装组件），返回一个新的组件（包装组建），包装组建会向被包装组件传入特定属性\r\n    3). 作用：扩展组件的功能\r\n    4). 高阶组件也是一个高阶函数：接受一个组件函数，返回一个新的组件函数\r\n      \r\n*/\r\n\r\n/*\r\n  登录的路由组件\r\n  包装Form组件生成一个新的组件：Form（Login）\r\n  新组件会向Form组件传递一个强大的对象属性：form\r\n*/\r\nconst WrapLogin = Form.create()(Login)\r\nexport default WrapLogin\r\n\r\n// 前台表单验证\r\n// 手机表单输入数据","const menuList = [\r\n    {\r\n        title: '首页', // 菜单标题名称\r\n        key: '/home', // 对应的 path\r\n        icon: 'home', // 图标名称\r\n    },\r\n    {\r\n        title: '商品',\r\n        key: '/products',\r\n        icon: 'appstore',\r\n        children: [ // 子菜单列表\r\n            {\r\n                title: '品类管理',\r\n                key: '/category',\r\n                icon: 'bars'\r\n            },\r\n            {\r\n                title: '商品管理',\r\n                key: '/product',\r\n                icon: 'tool'\r\n            },\r\n        ]\r\n    },\r\n    {\r\n        title: '用户管理',\r\n        key: '/user',\r\n        icon: 'user'\r\n    },\r\n    {\r\n        title: '角色管理',\r\n        key: '/role',\r\n        icon: 'safety',\r\n    },\r\n    {\r\n        title: '图形图表',\r\n        key: '/chart',\r\n        icon: 'area-chart',\r\n        children: [\r\n            {\r\n                title: '柱形图',\r\n                key: '/chart/bar',\r\n                icon: 'bar-chart'\r\n            },\r\n            {\r\n                title: '折线图',\r\n                key: '/chart/line',\r\n                icon: 'line-chart'\r\n            },\r\n            {\r\n                title: '饼图',\r\n                key: '/chart/pie',\r\n                icon: 'pie-chart'\r\n            },\r\n        ]\r\n    },\r\n]\r\nexport default menuList","import React, {Component} from 'react'\r\nimport { Link, withRouter } from 'react-router-dom'\r\nimport { Menu, Icon } from 'antd';\r\n\r\nimport menuList from '../../config/menuConfig';\r\n\r\nimport logo from '../../assets/images/logo.png'\r\nimport './index.less'\r\n\r\nconst { SubMenu } = Menu;\r\n\r\nclass LeftNav extends Component{\r\n\r\n    /*\r\n        根据menu的数据数组生成对应的标签数组 \r\n        map + 递归调用\r\n    */\r\n    getMenuNodes_map = (menuList) => {\r\n        return menuList.map(item=>{\r\n            // 单个菜单\r\n            if (!item.children) {\r\n                return (\r\n                    <Menu.Item key={item.key}>\r\n                        <Link to={item.key}>\r\n                            <Icon type={item.icon} />\r\n                            <span>{item.title}</span>\r\n                        </Link>\r\n                    </Menu.Item>\r\n                )\r\n            } else { // 含有子菜单\r\n                return (\r\n                    <SubMenu\r\n                        key={item.key}\r\n                        title={\r\n                            <span>\r\n                                <Icon type={item.icon} />\r\n                                <span>{item.title}</span>\r\n                            </span>\r\n                        }\r\n                    >\r\n                        {/* 递归 */}\r\n                        { this.getMenuNodes_map(item.children) }\r\n                    </SubMenu>\r\n                )\r\n            }\r\n        })\r\n    }\r\n\r\n    /*\r\n        根据menu的数据数组生成对应的标签数组 \r\n        reduce + 递归调用\r\n    */\r\n    getMenuNodes = (menuList) => {\r\n        // 得到当前路径\r\n        const path = this.props.location.pathname\r\n\r\n        return menuList.reduce((pre,item)=>{\r\n            // pre添加<menu.Item>\r\n            if (!item.children) {\r\n                pre.push(\r\n                    (<Menu.Item key={item.key}>\r\n                        <Link to={item.key}>\r\n                            <Icon type={item.icon} />\r\n                            <span>{item.title}</span>\r\n                        </Link>\r\n                    </Menu.Item>)\r\n                )\r\n            } else { // pre添加<SubMenu>\r\n\r\n                // 当前子菜单选中，并是打开状态，刷新页面，会被闭合--解决这个bug\r\n                // 查找一个与当前请求路径匹配的子item\r\n                const citem = item.children.find(citem=>\r\n                    citem.key === path\r\n                )\r\n                // 如果存在，说明当前item的字列表需要打开\r\n                if(citem) {\r\n                    this.openKey = item.key;\r\n                }\r\n                \r\n                pre.push(\r\n                    (<SubMenu\r\n                        key={item.key}\r\n                        title={\r\n                            <span>\r\n                                <Icon type={item.icon} />\r\n                                <span>{item.title}</span>\r\n                            </span>\r\n                        }\r\n                    >\r\n                        {/* 递归 */}\r\n                        { this.getMenuNodes(item.children) }\r\n                    </SubMenu>)\r\n                )\r\n            }\r\n            return pre;\r\n        },[])\r\n    }\r\n\r\n    /*\r\n        在第一次render()之前执行一次\r\n        为第一个render()准备数据（必须同步的）\r\n    */\r\n    componentWillMount() {\r\n        // console.log(this)\r\n        // 得到节点,先进行读节点---------\r\n        this.menuNodes = this.getMenuNodes(menuList)\r\n    }\r\n\r\n    render() {\r\n\r\n        // 得到当前路径\r\n        const path = this.props.location.pathname\r\n\r\n        // 得到需要打开菜单项的key，再获得openKey-------\r\n        const openKey = this.openKey\r\n\r\n        return (\r\n            <div className=\"left-nav\">\r\n                <Link to='/' className=\"left-nav-header\">\r\n                    <img src={logo} alt='logo'/>\r\n                    <h1>管理系统</h1>\r\n                </Link>\r\n                <Menu\r\n                    selectedKeys={[path]}\r\n                    defaultOpenKeys={[openKey]}\r\n                    mode=\"inline\"\r\n                    theme=\"dark\"\r\n                >\r\n                    {/* <Menu.Item key=\"1\">\r\n                        <Link to='/home'>\r\n                            <Icon type=\"pie-chart\" />\r\n                            <span>首页</span>\r\n                        </Link>\r\n                    </Menu.Item>\r\n\r\n                    <SubMenu\r\n                        key=\"sub1\"\r\n                        title={\r\n                            <span>\r\n                                <Icon type=\"mail\" />\r\n                                <span>商品</span>\r\n                            </span>\r\n                        }\r\n                    >\r\n                        <Menu.Item key=\"2\">\r\n                            <Link to='/category'>\r\n                                <Icon type=\"mail\" />\r\n                                <span>品类管理</span>\r\n                            </Link>\r\n                        </Menu.Item>\r\n                        <Menu.Item key=\"3\">\r\n                            <Link to='/product'>\r\n                                <Icon type=\"mail\" />\r\n                                <span>商品管理</span>\r\n                            </Link>\r\n                        </Menu.Item>\r\n                    </SubMenu> */}\r\n                    {/* 获取菜单 */}\r\n                    {\r\n                        this.menuNodes\r\n                    }\r\n                </Menu>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n// withRouter,高阶组件：\r\n// 包装非路由组件，返回一个新的组件\r\n// 心得组件向非路由组件传递三个属性：history、location、match\r\nexport default withRouter(LeftNav)","// 格式化日期\r\nexport function formateDate(time) {\r\n    if (!time) return '';\r\n    let date = new Date(time);\r\n    return date.getFullYear() + '-' + (date.getMonth() + 1) + '-' + date.getDate()\r\n        + ' ' + date.getHours() + ':' + date.getMinutes() + ':' + date.getSeconds();\r\n}","import React, {Component} from 'react'\r\nimport { withRouter } from 'react-router-dom'\r\nimport { Modal } from 'antd';\r\n\r\nimport {formateDate} from '../../utils/dateUtils'\r\nimport memoryUtils from \"../../utils/memoryUtils\";\r\nimport storageUtils from \"../../utils/storageUtils\";\r\nimport menuList from \"../../config/menuConfig\"\r\n\r\nimport {reqWeather} from \"../../api/index\"\r\n\r\nimport './index.less'\r\n\r\nclass Header extends Component{\r\n\r\n    state = {\r\n        currentTime: formateDate(Date.now()),\r\n        dayPictureUrl: '',\r\n        weather: '',\r\n    }\r\n\r\n    // 更新时间\r\n    getTime = () => {\r\n        this.interId = setInterval(()=>{\r\n            const currentTime = formateDate(Date.now());\r\n            this.setState({currentTime})\r\n        },1000)\r\n    }\r\n\r\n    // 更新天气\r\n    getWeather= async () => {\r\n        // 获得接口数据\r\n       const {dayPictureUrl, weather} = await reqWeather('上海')\r\n       this.setState({dayPictureUrl, weather})\r\n    }\r\n\r\n    // 获得title\r\n    getTitle = ()=> {\r\n        const path = this.props.location.pathname\r\n        let title = ''\r\n        menuList.forEach(item=>{\r\n            if (item.key === path) {\r\n                title = item.title;\r\n            } else if (item.children) {\r\n                const it = item.children.find(it => it.key===path)\r\n                if (it) {\r\n                    title = it.title;\r\n                }\r\n            }\r\n        })\r\n        return title;\r\n    }\r\n\r\n    outLogin= () => {\r\n        Modal.confirm({\r\n            title: '确定退出吗？',\r\n            onOk: ()=>{\r\n                storageUtils.removeUser()\r\n                memoryUtils.user={}\r\n                this.props.history.replace('/login')\r\n            }\r\n        })\r\n    }\r\n    \r\n\r\n    // 第一次render（）后执行一次\r\n    // 一般再次执行异步操作：发Ajax请求、启动定时器\r\n    componentDidMount() {\r\n        // 获得时间\r\n        this.getTime();\r\n        // 获得天气\r\n        this.getWeather();\r\n    }\r\n\r\n    // 当前组件卸载前执行\r\n    componentWillUnmount() {\r\n        // 清除定时器\r\n        clearInterval(this.interId)\r\n    }\r\n\r\n    render() {\r\n\r\n        const {currentTime, dayPictureUrl, weather} =this.state\r\n\r\n        const user = memoryUtils.user.username\r\n\r\n        const title = this.getTitle(); // 要在这里获取，切换时会执行这里，不执行其他钩子函数，不能写在state里\r\n\r\n        return (\r\n            <div className=\"header\">\r\n                <div className=\"header-top\">\r\n                    <span>欢迎，{user}</span>\r\n                    <span onClick={this.outLogin}>退出</span>\r\n                </div>\r\n                <div className=\"header-bot\">\r\n                    <div className=\"header-bot-l\">{title}</div>\r\n                    <div className=\"header-bot-r\">\r\n                        <span className=\"header-bot-r-sp1\">{currentTime}</span>\r\n                        <img src={dayPictureUrl} alt=\"天气\" />\r\n                        <span className=\"header-bot-r-sp2\">{weather}</span>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default withRouter(Header)","import React, { Component } from 'react';\r\nimport './home.less'\r\n\r\nexport default class Home extends Component{\r\n\r\n    render() {\r\n        return (\r\n            <div className='home-main'>\r\n                欢迎使用\r\n            </div>\r\n        )\r\n    }\r\n}","import React from 'react'\r\n\r\nimport './index.less'\r\n\r\nexport default function LinkButton(props) {\r\n    return <button {...props} className=\"link-button\"></button>\r\n}","import React, { Component } from 'react';\r\n\r\nimport { Card, Button, Icon, Table, message } from 'antd';\r\n\r\nimport LinkButton from '../../components/link-button';\r\nimport { reqCategorys } from '../../api';\r\n\r\nexport default class Category extends Component{\r\n\r\n    state = {\r\n        loading: false, // 列表loading\r\n        categorys: [], // 列表数据\r\n        subCategorys: [], // 二级分类列表\r\n        parentId: '0', // 分类id\r\n        parentName: '', // 分类名称\r\n    }\r\n\r\n    // 获得列表数据(一级、二级)\r\n    getDate = async () => {\r\n        try {\r\n            // console.log(this.state)\r\n            const {parentId} = this.state;\r\n            this.setState({\r\n                loading: true,\r\n            })\r\n            // 发请求\r\n            const res = await reqCategorys(parentId);\r\n            this.setState({\r\n                loading: false,\r\n            })\r\n\r\n            if (res.status ===0) {\r\n                // 取出分类数据；一级、或二级\r\n                const categorys =res.data\r\n                if (parentId === '0') {\r\n                    // console.log('-1-',categorys)\r\n                    this.setState({\r\n                        categorys,\r\n                    })\r\n                } else {\r\n                    // console.log('-2-')\r\n                    this.setState({\r\n                        subCategorys: categorys,\r\n                    })\r\n                }\r\n            } else {\r\n                message.error('获得分类列表失败')\r\n            }\r\n        } catch (e) {\r\n            message.error('使用假数据！')\r\n            const {parentId} = this.state;\r\n            const categorys = [\r\n                {\r\n                    parentId: '0',\r\n                    _id: '11111',\r\n                    name: '家用电器',\r\n                    _v: 0,\r\n                },\r\n                {\r\n                    parentId: '0',\r\n                    _id: '22222',\r\n                    name: '电脑',\r\n                    _v: 0,\r\n                },\r\n                {\r\n                    parentId: '0',\r\n                    _id: '33333',\r\n                    name: '家用电器',\r\n                    _v: 0,\r\n                },\r\n                {\r\n                    parentId: '0',\r\n                    _id: '44444',\r\n                    name: '电脑',\r\n                    _v: 0,\r\n                },\r\n                {\r\n                    parentId: '0',\r\n                    _id: '55555',\r\n                    name: '家用电器',\r\n                    _v: 0,\r\n                },\r\n                {\r\n                    parentId: '0',\r\n                    _id: '66666',\r\n                    name: '家用电器',\r\n                    _v: 0,\r\n                },\r\n            ];\r\n            const subCategorys = [\r\n                {\r\n                    parentId: '0',\r\n                    _id: '11111',\r\n                    name: '家用电器1',\r\n                    _v: 0,\r\n                },\r\n                {\r\n                    parentId: '0',\r\n                    _id: '22222',\r\n                    name: '电脑1',\r\n                    _v: 0,\r\n                },\r\n            ];\r\n            if (parentId === '0') {\r\n                this.setState({\r\n                    categorys,\r\n                })\r\n            } else {\r\n                this.setState({\r\n                    subCategorys,\r\n                })\r\n            }\r\n            this.setState({\r\n                loading: false,\r\n            })\r\n        }\r\n    }\r\n\r\n    // table列表\r\n    getInitColums = () => {\r\n        this.columns = [\r\n            {\r\n                title: '商品名称',\r\n                dataIndex: 'name',\r\n            },\r\n            {\r\n                title: '操作',\r\n                dataIndex: '',\r\n                width: 300,\r\n                render: (category) =>(\r\n                     <span>\r\n                        <LinkButton>修改</LinkButton>\r\n                        {/* \r\n                            这种方式，进来会立即执行\r\n                            <LinkButton onClick={this.getSubCate(category)}>查看子分类</LinkButton> \r\n                            这种写，进来不调，点击时候调，但不能传参数\r\n                            <LinkButton onClick={this.getSubCate}>查看子分类</LinkButton> \r\n                            如何将事件回调函数，传递参数：先定义匿名函数，再函数调用处理的函数并传入数据\r\n                        */}\r\n                        <LinkButton onClick={()=>this.getSubCate(category)}>查看子分类</LinkButton>\r\n                    </span>\r\n                )\r\n            },\r\n        ];\r\n    }\r\n\r\n    // 点击查看二级分类\r\n    getSubCate = (category) => {\r\n        // 更新状态，此方法为异步\r\n        this.setState({\r\n            parentId: category._id, // 分类id\r\n            parentName: category.name, // 分类名称\r\n        },()=>{\r\n            // console.log(this.state)\r\n            // 在状态更新且重新render()后执行\r\n            // 二级分类列表\r\n            this.getDate();\r\n        })\r\n        // console.log(this.state)\r\n        // this.getDate();\r\n    }\r\n\r\n    // 为第一次render()准备数据\r\n    componentWillMount() {\r\n        this.getInitColums();\r\n    }\r\n\r\n    // 执行异步\r\n    componentDidMount() {\r\n        // 一级分类列表\r\n        this.getDate();\r\n    }\r\n\r\n    render() {\r\n\r\n        // console.log(this.state)\r\n        // console.log(this.props)\r\n\r\n        const title = '一级分类'\r\n        const extra = (\r\n            <Button type=\"primary\">\r\n                <Icon type=\"plus\" />添加\r\n            </Button>\r\n        )\r\n\r\n        const {categorys, subCategorys, parentId, loading} = this.state\r\n            \r\n        return (\r\n            <div>\r\n                <Card title={title} extra={extra} >\r\n                    <Table \r\n                        bordered\r\n                        rowKey='_id'\r\n                        loading={loading}\r\n                        dataSource={parentId === '0' ? categorys : subCategorys} \r\n                        columns={this.columns} \r\n                        pagination={{defaultPageSize:5,showQuickJumper:true}}\r\n                    />\r\n                </Card>\r\n            </div>\r\n        )\r\n    }\r\n}","import React, { Component } from 'react';\r\n\r\nexport default class Product extends Component{\r\n\r\n    render() {\r\n        return (\r\n            <div></div>\r\n        )\r\n    }\r\n}","import React, { Component } from 'react';\r\n\r\nexport default class Role extends Component{\r\n\r\n    render() {\r\n        return (\r\n            <div></div>\r\n        )\r\n    }\r\n}","import React, { Component } from 'react';\r\n\r\nexport default class User extends Component{\r\n\r\n    render() {\r\n        return (\r\n            <div></div>\r\n        )\r\n    }\r\n}","import React, { Component } from 'react';\r\n\r\nexport default class Bar extends Component{\r\n\r\n    render() {\r\n        return (\r\n            <div></div>\r\n        )\r\n    }\r\n}","import React, { Component } from 'react';\r\n\r\nexport default class Line extends Component{\r\n\r\n    render() {\r\n        return (\r\n            <div></div>\r\n        )\r\n    }\r\n}","import React, { Component } from 'react';\r\n\r\nexport default class Pie extends Component{\r\n\r\n    render() {\r\n        return (\r\n            <div></div>\r\n        )\r\n    }\r\n}","import React, { Component } from 'react';\r\nimport { Redirect, Route, Switch } from 'react-router';\r\nimport { Layout } from 'antd';\r\n\r\nimport memoryUtils from '../../utils/memoryUtils';\r\n\r\nimport LeftNav from '../../components/left-nav';\r\nimport Header from '../../components/header';\r\n\r\nimport Home from '../home/home'\r\nimport Category from '../category/category'\r\nimport Product from '../product/product'\r\nimport Role from '../role/role'\r\nimport User from '../user/user'\r\nimport Bar from '../chart/bar'\r\nimport Line from '../chart/line'\r\nimport Pie from '../chart/pie'\r\n\r\nconst { Footer, Sider, Content } = Layout;\r\n\r\nexport default class Admin extends Component {\r\n  render() {\r\n    const user = memoryUtils.user\r\n    // 当前没有用户\r\n    if (!user || !user._id) {\r\n      // 自动跳转登录\r\n      return <Redirect to='/login'/>\r\n    }\r\n    return (\r\n      <Layout style={{height: '100%'}}>\r\n        <Sider>\r\n          <LeftNav/>\r\n        </Sider>\r\n        <Layout>\r\n          <Header>Header</Header>\r\n          <Content style={{margin: 20,backgroundColor: '#fff'}}>\r\n            <Switch>\r\n              <Route path='/home' component={Home}/>\r\n              <Route path='/category' component={Category}/>\r\n              <Route path='/product' component={Product}/>\r\n              <Route path='/role' component={Role}/>\r\n              <Route path='/user' component={User}/>\r\n              <Route path='/chart/bar' component={Bar}/>\r\n              <Route path='/chart/line' component={Line}/>\r\n              <Route path='/chart/pie' component={Pie}/>\r\n              <Redirect to='/home'/>\r\n            </Switch>\r\n          </Content>\r\n          <Footer style={{textAlign: 'center'}}>2021-07-25注册使用</Footer>\r\n        </Layout>\r\n      </Layout>\r\n    )\r\n  }\r\n}","import React, { Component } from 'react';\nimport {Redirect, BrowserRouter, Route, Switch} from 'react-router-dom'\n\nimport Login from './pages/login/login'\nimport Admin from './pages/admin/admin'\n\n/*\n  应用的根组件\n*/\n\nexport default class App extends Component {\n  render() {\n    return (\n      <BrowserRouter>\n        {/* 只匹配其中一个 */}\n        <Switch>\n          <Route path='/login' component={Login}></Route>\n          <Route path='/' component={Admin}></Route>\n          <Redirect to='/'/>\n        </Switch>\n      </BrowserRouter>\n    )\n  }\n}","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nimport storageUtils from './utils/storageUtils'\nimport memoryUtils from './utils/memoryUtils'\n\n// 读取local保存的user,保存到内存里\nconst user = storageUtils.getUser()\nmemoryUtils.user = user\n\n// 将App组件标签 渲染到index页面的div上\nReactDOM.render(<App />, document.getElementById('root'));\n\n"],"sourceRoot":""}